"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useRectWidthHeight = void 0;
const react_1 = require("react");
const resize_observer_1 = require("@juggle/resize-observer");
exports.useRectWidthHeight = (ref) => {
    const [rect, setRect] = react_1.useState({
        width: 0,
        height: 0,
    });
    const run = react_1.useCallback(() => {
        var _a;
        const rect = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();
        if (rect) {
            setRect({ width: rect.width, height: rect.height });
        }
    }, []);
    react_1.useEffect(() => {
        if (!ref.current) {
            return;
        }
        const elem = ref.current;
        const ResizeObserver = window.ResizeObserver || resize_observer_1.ResizeObserver;
        const observer = new ResizeObserver(run);
        observer.observe(elem);
        return () => {
            observer.unobserve(elem);
        };
    }, [ref]);
    return rect;
};
